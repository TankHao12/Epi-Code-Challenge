# Epi Coding Challenge

## Quick Start

**Prerequisites:** Python 3.10+

```bash
# 1. Create and activate a virtual environment
python -m venv .venv
source .venv/Scripts/activate   # Windows (Git Bash)
# source .venv/bin/activate     # macOS / Linux

# 2. Install dependencies
pip install -r requirements.txt

# 3. Run the Jupyter notebook (Tasks 1-3)
jupyter notebook analysis.ipynb

# 4. Run the Streamlit app (Task 4 + Visualisations)
streamlit run app.py
```

> **Note:** The Streamlit app reads `cleaned_worldData.csv`, which is generated
> by running the notebook. Run the notebook first before starting the app (if cleaned_worldData.csv is not generated yet).

---

## Project Structure

```
epi/
  analysis.ipynb         Jupyter notebook -- Tasks 1, 2, 3
  app.py                 Streamlit app -- Task 4 (interactive explorer) + Visualisations
  README.md              This file
  requirements.txt       Python dependencies
  worldData.csv          Original raw dataset (provided)
  cleaned_worldData.csv  Cleaned dataset (generated by the notebook)
```

---

## Requirements Coverage

| Requirement | Where |
|---|---|
| Task 1: Load data into memory | `analysis.ipynb` -- Task 1 section |
| Task 2: Clean data and export as CSV | `analysis.ipynb` -- Task 2 section |
| Task 3: Answer questions | `analysis.ipynb` -- Q1-4 |
| Task 4: Interactive filter interface + summary statistics | `app.py` -- Summary Statistics tab |
| Visualisations: Population density bar chart for filtered data | `app.py` -- Visualisations tab |
| Visualisations: Additional visualisations | `app.py` -- scatter, bar, box plots, map |
| Process documentation | Notebook markdown cells + this README |
| Instructions to run | This README |

---

## Approach

### Why Jupyter + Streamlit?

- **Jupyter notebook** is ideal for documenting the step-by-step cleaning
  process and analytical reasoning. The markdown narrative alongside code and
  outputs shows how I approached each problem.
- **Streamlit** is ideal for the interactive filtering interface that Task 4
  requires. It provides a real-time, web-based UI without complex frontend code.

### Data Cleaning (Task 2)

The notebook walks through a standard data-cleaning checklist:

1. **Structural issues** -- removed an unnamed index column and a duplicate
   `iso_a2` column.
2. **Missing values** -- pandas auto-converts `#N/A` strings on import. Zeros
   in `pop`, `lifeExp`, and `gdpPercap` were also treated as missing (a zero
   in these fields is not plausible for any real country).
3. **Duplicates** -- removed 10 exact duplicates and resolved 2 conflicting
   duplicates (Senegal, Tunisia) by keeping the row with more complete data.
4. **Range validation** -- flagged South Africa (lifeExp = 609.93), Haiti
   (pop = 1.05), and four countries with negative GDP per capita. All set to
   NaN.

### Interactive Explorer (Task 4)

The Streamlit app provides two types of filters:

- **Geographic (cascading):** Selecting a continent narrows the available
  subregion options. This follows the natural data hierarchy (continent >
  subregion) rather than showing all options independently.
- **Numeric range sliders:** Users can filter by population, life expectancy,
  and GDP per capita ranges. This allows data-oriented questions like "show
  me countries with life expectancy above 75 years."

The summary statistics table shows count, mean, standard deviation, min/max,
percentiles, and total for all four numeric columns (`area_km2`, `pop`,
`lifeExp`, `gdpPercap`).

### Technology

- **pandas** -- data loading, cleaning, and analysis
- **plotly** -- interactive charts (bar, scatter, box, map)
- **streamlit** -- web-based interactive filtering interface

---

## Assumptions

1. Zero values in population, life expectancy, and GDP per capita represent
   missing data, not actual measurements.
2. Negative GDP per capita values are data errors.
3. Valid life expectancy range is between 25 to 100. 
4. Countries with entirely missing numeric data (e.g. Antarctica, Somaliland)
   are kept in the dataset but excluded from numerical analyses.
